<!doctype html>
<html lang="en" data-theme="dark" data-variant="flowboard">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JOI Integrator Chat Concept</title>
    <style>
      :root {
        color-scheme: dark;
        --bg-0: #140a07;
        --bg-1: #1b100b;
        --bg-2: #261611;
        --line: #3a2217;
        --line-strong: #5a3323;
        --text: #fff2ea;
        --muted: #dfb49d;
        --subtle: #94624c;
        --accent: #ff5a1f;
        --accent-alt: #14b8a6;
        --ok: #6fdc8c;
        --warn: #ffbf4d;
        --danger: #ff6161;
        --glass: linear-gradient(165deg, rgba(35, 20, 14, 0.92), rgba(19, 10, 7, 0.94));
        --panel-shadow: 0 22px 65px rgba(0, 0, 0, 0.45);
      }

      html[data-theme="light"] {
        color-scheme: light;
        --bg-0: #f4f4f8;
        --bg-1: #eeeef4;
        --bg-2: #e4e4ec;
        --line: #d4d4de;
        --line-strong: #c4c4d0;
        --text: #171729;
        --muted: #56566f;
        --subtle: #8585a0;
        --accent: #0a84ff;
        --accent-alt: #0ea5a2;
        --ok: #059669;
        --warn: #d97706;
        --danger: #dc2626;
        --glass: linear-gradient(165deg, rgba(255, 255, 255, 0.88), rgba(245, 245, 251, 0.92));
        --panel-shadow: 0 18px 44px rgba(82, 86, 116, 0.18);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Avenir Next", "SF Pro Display", "Helvetica Neue", sans-serif;
        color: var(--text);
        background:
          radial-gradient(72vw 72vw at -12% -24%, color-mix(in srgb, var(--accent-alt) 25%, transparent), transparent 70%),
          radial-gradient(85vw 62vw at 108% -14%, color-mix(in srgb, var(--accent) 20%, transparent), transparent 72%),
          linear-gradient(180deg, color-mix(in srgb, var(--bg-0) 94%, black) 0%, color-mix(in srgb, var(--bg-0) 82%, black) 100%);
      }

      .page {
        width: min(1480px, 100% - 28px);
        margin: 14px auto 24px;
        border: 1px solid color-mix(in srgb, var(--line-strong) 65%, transparent);
        border-radius: 28px;
        overflow: hidden;
        background: var(--glass);
        box-shadow: var(--panel-shadow);
      }

      .topbar {
        height: 64px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding: 0 14px;
        border-bottom: 1px solid color-mix(in srgb, var(--line-strong) 56%, transparent);
        background: linear-gradient(180deg, color-mix(in srgb, var(--bg-1) 84%, transparent), color-mix(in srgb, var(--bg-2) 72%, transparent));
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .orb {
        width: 24px;
        height: 24px;
        border-radius: 8px;
        background: radial-gradient(circle at 35% 20%, #ffe0c5, color-mix(in srgb, var(--accent) 88%, #111) 45%, #5f2a10 100%);
      }

      .brand b {
        font-size: 14px;
        letter-spacing: 0.02em;
      }

      .muted {
        color: var(--muted);
        font-size: 11px;
      }

      .toolbar {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .seg {
        display: inline-flex;
        gap: 4px;
        padding: 3px;
        border-radius: 999px;
        border: 1px solid color-mix(in srgb, var(--line) 70%, transparent);
        background: color-mix(in srgb, var(--bg-2) 70%, transparent);
      }

      .seg button {
        border: none;
        background: transparent;
        color: var(--muted);
        border-radius: 999px;
        padding: 6px 10px;
        font-size: 11px;
        cursor: pointer;
      }

      .seg button.active {
        background: color-mix(in srgb, var(--accent) 20%, transparent);
        color: var(--text);
      }

      .meta-pill {
        border: 1px solid color-mix(in srgb, var(--line-strong) 58%, transparent);
        border-radius: 999px;
        padding: 6px 9px;
        font-size: 11px;
        color: var(--muted);
        background: color-mix(in srgb, var(--bg-2) 76%, transparent);
      }

      .canvas {
        padding: 12px;
      }

      .screen {
        display: none;
      }

      html[data-variant="flowboard"] .screen-flowboard,
      html[data-variant="command"] .screen-command,
      html[data-variant="pulse"] .screen-pulse {
        display: block;
      }

      .grid-3 {
        display: grid;
        grid-template-columns: 256px minmax(520px, 1fr) 340px;
        gap: 10px;
        min-height: calc(100vh - 130px);
      }

      .col {
        border: 1px solid color-mix(in srgb, var(--line-strong) 62%, transparent);
        border-radius: 18px;
        background: color-mix(in srgb, var(--bg-1) 76%, transparent);
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }

      .col-head {
        padding: 11px 12px;
        border-bottom: 1px solid color-mix(in srgb, var(--line) 72%, transparent);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .col-head h3 {
        margin: 0;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--subtle);
      }

      .col-body {
        padding: 10px;
        display: grid;
        gap: 8px;
        overflow: auto;
      }

      .card {
        border: 1px solid color-mix(in srgb, var(--line) 74%, transparent);
        border-radius: 12px;
        padding: 10px;
        background: color-mix(in srgb, var(--bg-2) 66%, transparent);
      }

      .card h4 {
        margin: 0;
        font-size: 13px;
      }

      .card p {
        margin: 4px 0 0;
        font-size: 12px;
        color: var(--muted);
        line-height: 1.45;
      }

      .chip {
        display: inline-block;
        font-size: 10px;
        border-radius: 999px;
        padding: 3px 7px;
        margin-right: 5px;
        border: 1px solid color-mix(in srgb, var(--line) 72%, transparent);
        color: var(--muted);
      }

      .chip.ok { color: var(--ok); border-color: color-mix(in srgb, var(--ok) 50%, var(--line)); }
      .chip.warn { color: var(--warn); border-color: color-mix(in srgb, var(--warn) 48%, var(--line)); }
      .chip.bad { color: var(--danger); border-color: color-mix(in srgb, var(--danger) 50%, var(--line)); }

      .thread {
        display: grid;
        gap: 8px;
      }

      .msg {
        max-width: 86%;
        border: 1px solid color-mix(in srgb, var(--line) 72%, transparent);
        border-radius: 13px;
        padding: 10px 11px;
        background: color-mix(in srgb, var(--bg-2) 68%, transparent);
      }

      .msg.user {
        justify-self: end;
        background: linear-gradient(145deg, color-mix(in srgb, var(--accent) 30%, transparent), color-mix(in srgb, var(--accent-alt) 18%, transparent));
      }

      .msg b {
        display: block;
        margin-bottom: 4px;
        font-size: 11px;
        color: var(--subtle);
      }

      .msg p {
        margin: 0;
        font-size: 13px;
        line-height: 1.44;
      }

      .pipeline {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 8px;
      }

      .step {
        border: 1px dashed color-mix(in srgb, var(--line-strong) 70%, transparent);
        border-radius: 12px;
        padding: 9px;
      }

      .step b {
        font-size: 12px;
      }

      .step p {
        margin: 4px 0 0;
        font-size: 11px;
        color: var(--muted);
      }

      .matrix {
        border: 1px solid color-mix(in srgb, var(--line) 74%, transparent);
        border-radius: 14px;
        overflow: auto;
      }

      table {
        border-collapse: collapse;
        width: 100%;
        min-width: 780px;
      }

      th,
      td {
        text-align: left;
        padding: 9px 10px;
        border-bottom: 1px solid color-mix(in srgb, var(--line) 72%, transparent);
        font-size: 12px;
      }

      th {
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 0.07em;
        color: var(--subtle);
        background: color-mix(in srgb, var(--bg-2) 72%, transparent);
      }

      tr:last-child td { border-bottom: none; }

      .score {
        font-weight: 700;
      }

      .score.good { color: var(--ok); }
      .score.mid { color: var(--warn); }
      .score.bad { color: var(--danger); }

      .split {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
      }

      .feed {
        display: grid;
        gap: 8px;
      }

      .feed-item {
        border-left: 3px solid color-mix(in srgb, var(--accent-alt) 52%, transparent);
        border-radius: 10px;
        padding: 9px 10px;
        background: color-mix(in srgb, var(--bg-2) 66%, transparent);
      }

      .feed-item h4 {
        margin: 0;
        font-size: 12px;
      }

      .feed-item p {
        margin: 4px 0 0;
        font-size: 11px;
        color: var(--muted);
      }

      .log {
        border: 1px solid color-mix(in srgb, var(--line) 74%, transparent);
        border-radius: 11px;
        padding: 9px;
        background: color-mix(in srgb, var(--bg-0) 86%, black);
        font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
        font-size: 11px;
        color: color-mix(in srgb, var(--text) 84%, #d4ebff);
        display: grid;
        gap: 4px;
      }

      @media (max-width: 1200px) {
        .grid-3 {
          grid-template-columns: 1fr;
          min-height: auto;
        }

        .pipeline {
          grid-template-columns: 1fr 1fr;
        }

        .split {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 760px) {
        .topbar {
          height: auto;
          padding: 10px;
          flex-direction: column;
          align-items: flex-start;
        }

        .toolbar {
          width: 100%;
          flex-wrap: wrap;
        }

        .pipeline {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <main class="page">
      <section class="page">
        <header class="topbar">
          <div class="brand">
            <span class="orb"></span>
            <div>
              <b>JOI Integrator Chat Concept</b>
              <div class="muted">Simple control center for chat flags -> repair -> verification</div>
            </div>
          </div>

          <div class="toolbar">
            <div class="seg" role="tablist" aria-label="Theme">
              <button id="theme-dark" class="active" data-theme="dark">Dark</button>
              <button id="theme-light" data-theme="light">Light</button>
            </div>
            <div class="seg" role="tablist" aria-label="Variants">
              <button class="active" data-variant="flowboard">Flowboard</button>
              <button data-variant="command">Command Chat</button>
              <button data-variant="pulse">Pulse Matrix</button>
            </div>
            <span class="meta-pill">Autopilot QA On</span>
          </div>
        </header>

        <section class="canvas">
          <article class="screen screen-flowboard">
            <div class="grid-3">
              <section class="col">
                <div class="col-head"><h3>Queue</h3><span class="chip warn">23 open</span></div>
                <div class="col-body">
                  <div class="card">
                    <h4>P1 personal.memory_recall</h4>
                    <p>Flagged from voice chat 2m ago</p>
                    <span class="chip bad">broken</span><span class="chip warn">repairing</span>
                  </div>
                  <div class="card">
                    <h4>P2 skill_scout.tool_selection</h4>
                    <p>Regression in latest autopilot run</p>
                    <span class="chip warn">at risk</span>
                  </div>
                  <div class="card">
                    <h4>P1 knowledge_sync.latency</h4>
                    <p>Latency +340ms over baseline</p>
                    <span class="chip bad">degraded</span>
                  </div>
                </div>
              </section>

              <section class="col">
                <div class="col-head"><h3>Integrator Thread</h3><span class="chip ok">live</span></div>
                <div class="col-body thread">
                  <div class="msg user">
                    <b>You (voice)</b>
                    <p>Flag that response. It forgot my son context again.</p>
                  </div>
                  <div class="msg">
                    <b>Integrator</b>
                    <p>Flag received. Mapped to <strong>personal.memory_recall</strong>. Issue created and sent to AutoCoder.</p>
                  </div>
                  <div class="msg">
                    <b>Collaboration</b>
                    <p>Claude proposed patch scope. Codex accepted and started implementation. Gemini queued for validation.</p>
                  </div>
                  <div class="card">
                    <h4>Auto pipeline</h4>
                    <div class="pipeline" style="margin-top: 8px;">
                      <div class="step"><b>1. Flag</b><p>Chat/voice issue captured</p></div>
                      <div class="step"><b>2. Link</b><p>Agent + skill + run mapped</p></div>
                      <div class="step"><b>3. Repair</b><p>AutoCoder queue + executor</p></div>
                      <div class="step"><b>4. Verify</b><p>Re-test and close/reopen</p></div>
                    </div>
                  </div>
                </div>
              </section>

              <section class="col">
                <div class="col-head"><h3>Outcome</h3><span class="chip">now</span></div>
                <div class="col-body">
                  <div class="card">
                    <h4>Agent health</h4>
                    <p><span class="score mid">82</span> personal 路 <span class="score good">91</span> knowledge-sync 路 <span class="score bad">73</span> skill-scout</p>
                  </div>
                  <div class="card">
                    <h4>Executors</h4>
                    <p><span class="chip ok">Claude agreed</span><span class="chip warn">Codex running</span><span class="chip">Gemini queued</span></p>
                  </div>
                  <div class="log">
                    <div>[13:02:11] chat_flag_received conv=9ab2</div>
                    <div>[13:02:12] mapped personal.memory_recall</div>
                    <div>[13:02:13] issue P1 created</div>
                    <div>[13:02:14] codex patch started</div>
                    <div>[13:02:47] verify run scheduled</div>
                  </div>
                </div>
              </section>
            </div>
          </article>

          <article class="screen screen-command">
            <div class="split">
              <section class="col" style="min-height: calc(100vh - 156px);">
                <div class="col-head"><h3>Command Chat</h3><span class="chip ok">one action</span></div>
                <div class="col-body thread">
                  <div class="msg user">
                    <b>You</b>
                    <p>Flag last response</p>
                  </div>
                  <div class="msg">
                    <b>Integrator</b>
                    <p>Done. Created issue and queued auto-repair.</p>
                  </div>
                  <div class="msg">
                    <b>Status</b>
                    <p>Codex implementing fix. Claude reviewed. Auto verify in 3m.</p>
                  </div>
                  <div class="msg user">
                    <b>You</b>
                    <p>Show only broken skills by agent.</p>
                  </div>
                  <div class="msg">
                    <b>Integrator</b>
                    <p>personal: memory_recall, tool_selection. skill-scout: tool_selection, latency_control, social_posting.</p>
                  </div>
                </div>
              </section>

              <section class="col" style="min-height: calc(100vh - 156px);">
                <div class="col-head"><h3>Live Summary</h3><span class="chip warn">attention</span></div>
                <div class="col-body">
                  <div class="card">
                    <h4>Now failing</h4>
                    <p><span class="chip bad">personal.memory_recall</span><span class="chip bad">skill_scout.tool_selection</span></p>
                  </div>
                  <div class="card">
                    <h4>Auto-repair lane</h4>
                    <p>Need repair -> Running -> Ready to verify</p>
                  </div>
                  <div class="card">
                    <h4>Coverage</h4>
                    <p>12 agents 路 67 skills 路 89% tested in last 24h</p>
                  </div>
                  <div class="log">
                    <div>[13:05:01] lane enter: need_repair</div>
                    <div>[13:05:09] lane move: running (codex)</div>
                    <div>[13:05:42] lane move: ready_verify</div>
                  </div>
                </div>
              </section>
            </div>
          </article>

          <article class="screen screen-pulse">
            <div class="split" style="grid-template-columns: 1.2fr 0.8fr;">
              <section class="col" style="min-height: calc(100vh - 156px);">
                <div class="col-head"><h3>Quality Pulse Matrix</h3><span class="chip">autopilot</span></div>
                <div class="col-body">
                  <div class="matrix">
                    <table>
                      <thead>
                        <tr>
                          <th>Agent</th>
                          <th>Quality</th>
                          <th>Skills OK</th>
                          <th>Broken</th>
                          <th>Repair</th>
                          <th>Trend</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>personal</td>
                          <td class="score mid">82</td>
                          <td>18 / 22</td>
                          <td><span class="chip bad">4</span></td>
                          <td><span class="chip warn">running</span></td>
                          <td>+2.1%</td>
                        </tr>
                        <tr>
                          <td>knowledge-sync</td>
                          <td class="score good">91</td>
                          <td>12 / 13</td>
                          <td><span class="chip bad">1</span></td>
                          <td><span class="chip ok">stable</span></td>
                          <td>+1.4%</td>
                        </tr>
                        <tr>
                          <td>skill-scout</td>
                          <td class="score bad">73</td>
                          <td>8 / 11</td>
                          <td><span class="chip bad">3</span></td>
                          <td><span class="chip bad">needs handoff</span></td>
                          <td>-4.0%</td>
                        </tr>
                        <tr>
                          <td>store-auditor</td>
                          <td class="score good">96</td>
                          <td>9 / 9</td>
                          <td><span class="chip ok">0</span></td>
                          <td><span class="chip ok">self-healed</span></td>
                          <td>+0.6%</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </section>

              <section class="col" style="min-height: calc(100vh - 156px);">
                <div class="col-head"><h3>Social + Logs</h3><span class="chip ok">digest</span></div>
                <div class="col-body">
                  <div class="feed">
                    <div class="feed-item">
                      <h4>@personal improved tool_selection (+5%)</h4>
                      <p>Codex patch accepted by Claude review.</p>
                    </div>
                    <div class="feed-item">
                      <h4>@knowledge-sync latency regressed (+340ms)</h4>
                      <p>Issue auto-created and assigned.</p>
                    </div>
                    <div class="feed-item">
                      <h4>@skill-scout failed social_posting check</h4>
                      <p>Verifier run scheduled with Gemini.</p>
                    </div>
                  </div>
                  <div class="log">
                    <div>[13:07:12] social_emit improvement:personal.tool_selection</div>
                    <div>[13:07:19] issue_create regression:knowledge_sync.latency</div>
                    <div>[13:07:22] verifier_queue gemini:skill_scout.social_posting</div>
                  </div>
                </div>
              </section>
            </div>
          </article>
        </section>
      </section>
    </main>

    <script>
      const root = document.documentElement;

      const setTheme = (theme) => {
        root.setAttribute("data-theme", theme);
        document.querySelectorAll("[data-theme]").forEach((btn) => {
          btn.classList.toggle("active", btn.dataset.theme === theme);
        });
      };

      const setVariant = (variant) => {
        root.setAttribute("data-variant", variant);
        document.querySelectorAll("[data-variant]").forEach((btn) => {
          btn.classList.toggle("active", btn.dataset.variant === variant);
        });
      };

      document.querySelectorAll("button[data-theme]").forEach((btn) => {
        btn.addEventListener("click", () => setTheme(btn.dataset.theme));
      });

      document.querySelectorAll("button[data-variant]").forEach((btn) => {
        btn.addEventListener("click", () => setVariant(btn.dataset.variant));
      });
    </script>
  </body>
</html>
