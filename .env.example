# JOI - Personal AI Assistant
# Copy to .env and fill in your values.
#
# === Architecture ===
# Dev (studio/air Mac):  gateway runs locally, DB/Redis/Ollama/LiveKit on mini via host alias `mini`
# Prod (mini Mac):   everything runs on mini, services use localhost
#
# Road mode uses /etc/hosts switching for alias `mini`:
#   Home LAN:    192.168.178.58 mini
#   Tailscale:   <mini-tailscale-ip> mini
# Helper: ./scripts/road-mode-hosts.sh status|home|road|auto [--apply]

# ── Core services ──────────────────────────────────────────────
# Dev:  postgresql://joi:joi@mini:5434/joi
# Prod: postgresql://joi:joi@localhost:5434/joi
DATABASE_URL=postgresql://joi:joi@mini:5434/joi

GATEWAY_PORT=3100
GATEWAY_PUBLIC_URL=https://joi.itellico.org

# Dev:  http://mini:11434
# Prod: http://localhost:11434
OLLAMA_URL=http://mini:11434

# ── Memory (pgvector) ─────────────────────────────────────────
MEM0_VECTOR_BACKEND=pgvector
MEM0_PGVECTOR_TABLE=mem0_vectors
MEM0_SHADOW_WRITE_LOCAL=false

# ── Outline wiki ───────────────────────────────────────────────
OUTLINE_API_KEY=ol_api_...
OUTLINE_API_URL=https://go-outline.itellico.ai/api
OUTLINE_SYNC_ENABLED=true

# ── LLM providers ─────────────────────────────────────────────
OPENROUTER_MGMT_KEY=sk-or-v1-...

# ── iMessage (BlueBubbles) ─────────────────────────────────────
BLUEBUBBLES_URL=http://localhost:1234
BLUEBUBBLES_PASSWORD=

# ── Telegram ───────────────────────────────────────────────────
TELEGRAM_API_ID=
TELEGRAM_API_HASH=
TELEGRAM_BOT_USERNAME=
TELEGRAM_CHAT_ID=

# ── Apple Push Notifications ──────────────────────────────────
APNS_KEY_PATH=./secrets/AuthKey_XXXXXXXXXX.p8
APNS_KEY_ID=
APNS_TEAM_ID=
APNS_BUNDLE_ID=com.joi.app
APNS_PRODUCTION=false

# ── LiveKit (voice) ────────────────────────────────────────────
# Dev:  ws://mini:7880
# Prod: ws://localhost:7880
LIVEKIT_URL=ws://mini:7880
LIVEKIT_API_KEY=joi-api-key
LIVEKIT_API_SECRET=joi-api-secret-that-is-at-least-32-chars
DEEPGRAM_API_KEY=
CARTESIA_API_KEY=

# ── TTS cache (Redis) ─────────────────────────────────────────
# Dev:  redis://mini:6379/0
# Prod: redis://localhost:6379/0
JOI_TTS_CACHE_REDIS_URL=redis://mini:6379/0
JOI_TTS_CACHE_REDIS_TTL_SEC=604800
